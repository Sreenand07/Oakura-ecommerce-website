<link rel="stylesheet" href="/css/auth.css">

<!-- Firebase CDN -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    createUserWithEmailAndPassword
  } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js";

  // üîÅ Replace this with your actual Firebase config
  const firebaseConfig = {
  apiKey: "AIzaSyC9-VYHeEYFvARlCVAEVCUkElfiqR3T3zs",[]  authDomain: "oakura-auth.firebaseapp.com",
  projectId: "oakura-auth",
  storageBucket: "oakura-auth.firebasestorage.app",
  messagingSenderId: "523969508676",
  appId: "1:523969508676:web:5e3bd36e6f631439445311"
};

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // üîê Login
  document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = e.target.username.value;
    const password = e.target.password.value;

    try {
      await signInWithEmailAndPassword(auth, email, password);
      alert("Login successful!");
      window.location.href = "/home"; // Change to your dashboard/home route
    } catch (error) {
      alert("Login failed: " + error.message);
    }
  });

  // üÜï Signup
  document.getElementById('signupForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = e.target.email.value;
    const password = e.target.newPassword.value;

    try {
      await createUserWithEmailAndPassword(auth, email, password);
      alert("Account created!");
      window.location.href = "/home"; // Change to your dashboard/home route
    } catch (error) {
      alert("Signup failed: " + error.message);
    }
  });
</script>

<!-- Auth Container -->
<div class="auth-container">

  <!-- Left: Auth form -->
  <div class="auth-left">
    <div class="tab-buttons">
      <button id="loginTab" class="active">Log In</button>
      <button id="signupTab">Sign Up</button>
    </div>

    <!-- Log In Form -->
    <form id="loginForm">
      <h2>Welcome Back</h2>
      <input type="text" name="username" placeholder="Email" required />
      <input type="password" name="password" placeholder="Password" required />
      <button type="submit">Log In</button>
      <p class="terms">
        By signing in, you agree to our
        <a href="#">Terms</a> and <a href="#">Privacy Policy</a>.
      </p>
    </form>

    <!-- Sign Up Form -->
    <form id="signupForm" class="hidden">
      <h2>Create Account</h2>
      <input type="text" name="newUsername" placeholder="Username" required />
      <input type="email" name="email" placeholder="Email" required />
      <input type="password" name="newPassword" placeholder="Password" required />
      <button type="submit">Sign Up</button>
    </form>
  </div>

  <!-- Right: Image and brand -->
  <div class="auth-right">
    <img src="/images/login.jpg" alt="Furniture" class="auth-image" />
    <div class="auth-right-content">
      <h3>Explore Oakura</h3>
      <p>Beautiful furniture designed for your lifestyle. Shop now and discover comfort like never before.</p>
      <div class="auth-badges">
        <span>New Arrival</span>
        <span>Fast Delivery</span>
        <span>Quality Guaranteed</span>
      </div>
    </div>
  </div>
</div>

<div class="go-back-wrapper">
  <a href="/" class="go-back-btn">‚Üê Go Back</a>
</div>

<!-- Form Toggle Script -->
<script>
  const loginTab = document.getElementById('loginTab');
  const signupTab = document.getElementById('signupTab');
  const loginForm = document.getElementById('loginForm');
  const signupForm = document.getElementById('signupForm');

  loginTab.addEventListener('click', () => {
    loginTab.classList.add('active');
    signupTab.classList.remove('active');
    loginForm.classList.remove('hidden');
    signupForm.classList.add('hidden');
  });

  signupTab.addEventListener('click', () => {
    signupTab.classList.add('active');
    loginTab.classList.remove('active');
    signupForm.classList.remove('hidden');
    loginForm.classList.add('hidden');
  });
</script>
